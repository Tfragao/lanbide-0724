<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Getting Started: Serving Web Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
	<form th:action="@{/logout}" method="post">
		<button>Logout</button>
	</form>

	<pre th:text="${error}"></pre>
	
	<div id="factura">
		<p th:text="${factura.numero}"></p>
		<p th:text="${factura.fecha}"></p>
	</div>
	
	<div id="cliente" th:object="${factura.cliente}">
		<p th:text="*{nif}"></p>
		<p th:text="*{usuario.nombre}"></p>
	</div>
	
	<table>
		<thead>
			<tr>
				<th>Id</th>
				<th>Nombre</th>
				<th>Precio</th>
				<th>Fecha de caducidad</th>
				<th>Cantidad</th>
				<th>Total</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="l: ${factura.lineas}">
				<th th:text="${l.producto.id}">Id</th>
				<td th:text="${l.producto.nombre}">Nombre</td>
				<td th:text="${l.producto.precio}">Precio</td>
				<td th:text="${l.producto.fechaCaducidad}">Fecha de caducidad</td>
				<td th:text="${l.cantidad}">Cantidad</td>
				<td th:text="${l.total}">Total</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td>Total:</td>
				<td th:text="${factura.total}"></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td>IVA (0,21):</td>
				<td th:text="${factura.iva}"></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td>Total con IVA:</td>
				<td th:text="${factura.totalConIva}"></td>
			</tr>
		</tfoot>
		
	</table>
</body>
</html>